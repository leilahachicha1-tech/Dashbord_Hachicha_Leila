<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>Dashboard Sakura</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

<aside class="sidebar">
    <h2>ðŸŒ¸ Dashboard</h2>
    <nav>
        <a href="#">Accueil</a>
        <a href="#">Statistiques</a>
        <a href="#">Utilisateurs</a>
        <a href="#">ParamÃ¨tres</a>
    </nav>
</aside>

<main class="content">

    <header>
        <h1>Dashboard â€“ ActivitÃ© Utilisateurs</h1>
        <div class="filters">
            <select id="filtrePage">
                <option value="toutes">Toutes les pages</option>
                <option value="Accueil">Accueil</option>
                <option value="Articles">Articles</option>
                <option value="Contact">Contact</option>
                <option value="Profil">Profil</option>
            </select>

            <select id="filtreJour">
                <option value="7">7 jours</option>
                <option value="30">30 jours</option>
                <option value="90">90 jours</option>
            </select>
        </div>
    </header>

    <section class="cards-grid">
        <div class="card sakura-card">
            <h3>Visiteurs</h3>
            <p id="visiteurs">0</p>
        </div>
        <div class="card sakura-card">
            <h3>Temps moyen (s)</h3>
            <p id="temps">0</p>
        </div>
        <div class="card sakura-card">
            <h3>Interactions</h3>
            <p id="interactions">0</p>
        </div>
        <div class="card sakura-card">
            <h3>Taux de rebond (%)</h3>
            <p id="rebond">0</p>
        </div>
    </section>

    <section class="charts-grid">
        <div class="chartBox">
            <h2>Pages consultÃ©es</h2>
            <canvas id="chartBar"></canvas>
        </div>
        <div class="chartBox">
            <h2>Visites sur 30 jours</h2>
            <canvas id="chartLine"></canvas>
        </div>
    </section>

</main>

<script>
const data = {
    visiteurs: 1530,
    interactions: 860,
    tempsMoyen: 87,
    tauxRebond: 34,

    pages: [
        { nom: "Accueil", vues: 1200 },
        { nom: "Articles", vues: 980 },
        { nom: "Contact", vues: 430 },
        { nom: "Profil", vues: 300 }
    ],

    visites30j: [50, 60, 80, 75, 90, 110, 130, 125, 150, 160, 170, 210]
};

// Remplissage des valeurs
document.getElementById("visiteurs").textContent = data.visiteurs;
document.getElementById("temps").textContent = data.tempsMoyen;
document.getElementById("interactions").textContent = data.interactions;
document.getElementById("rebond").textContent = data.tauxRebond;

// SÃ©lection des canvas
const c1 = document.getElementById("chartBar").getContext("2d");
const c2 = document.getElementById("chartLine").getContext("2d");

// Graphique Bar
new Chart(c1, {
    type: "bar",
    data: {
        labels: data.pages.map(p => p.nom),
        datasets: [{
            label: "Vues",
            data: data.pages.map(p => p.vues),
            backgroundColor: ["#7fb9d4", "#395f77", "#f4d29c", "#ffe8b5"],
            borderColor: "#5a4634",
            borderWidth: 2,
        }]
    },
    options: {
        scales: { y: { beginAtZero: true } },
        plugins: { legend: { display: false } }
    }
});

// Graphique Line
new Chart(c2, {
    type: "line",
    data: {
        labels: ["J1","J3","J5","J7","J9","J11","J13","J15","J17","J19","J21","J23"],
        datasets: [{
            label: "Visites",
            data: data.visites30j,
            borderColor: "#ff9bbd",
            backgroundColor: "rgba(255, 182, 193, 0.3)",
            tension: 0.4,
            borderWidth: 3
        }]
    },
    options: { plugins: { legend: { display: false } } }
});
</script>

</body>
</html>
